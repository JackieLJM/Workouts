<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <style>
        body {
            margin: 0px;
        }
    </style>
    <title>Document</title>
</head>

<body>
    <div style="width:200px;height:200px;position:absolute;background-color:black;">

    </div>
    <script>
        (function Drag() {
            var div = document.getElementsByTagName("div")[0];
            div.onmousedown = function (event) {
                var that = this;
                // console.log(that);
                // var range = {x1:0,y1:0,x2:document.scrollWidth,y2:document.scrollHeight};
                var OoffsetX = event.offsetX;
                var OoffsetY = event.offsetY;
                var OoffsetW = that.offsetWidth;
                // console.log(OoffsetW);
                var OoffsetH = that.offsetHeight;
                document.onmousemove = function (event) {
                    // console.log(document.body.scrollHeight);
                    var Top = event.clientY - OoffsetY;
                    var Left = event.clientX - OoffsetX;
                    Top = (Top >= 0 ? ((Top + OoffsetH <= document.body.scrollHeight)?Top:document.body.scrollHeight-OoffsetH ) : 0);
                    Left = (Left >= 0 ?((Left + OoffsetW <= document.body.scrollWidth)?Left:document.body.scrollWidth-OoffsetW ) : 0);
                    // if ((event.clientX - OoffsetX + OoffsetW < document.body.scrollWidth) && (event.clientY - OoffsetY + OoffsetH < document.body.scrollHeight)) {
                    //     // console.log(event.clientX-OoffsetX+parseInt(that.style.width));
                    //     // if((scrollTop>=0)||(scrollLeft>=0)){

                    that.style.top = Top + "px";
                    that.style.left = Left + "px";

                    //     // }
                    // } 
                    // else if((parseInt(that.style.top)<0)){
                    //     that.style.top="0px";
                    // }
                    // else if((parseInt(that.style.left)<0)){
                    //     that.style.left="0px";
                    // }               
                }
                document.onmouseup = function () {
                    document.onmousedown = document.onmousemove = document.onmouseup = null;
                }
            }
        })();
    </script>
</body>

</html>